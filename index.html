<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>JSON Data Viewer</title>
    <link rel="icon" type="image/png" href="icons/pencils.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="clipboard-status" id="clipboardStatus">Text copied to clipboard!</div>

    <h1>JSON Data Viewer</h1>
    <textarea id="jsonInput" placeholder="Paste your JSON array here..."></textarea>

    <div class="actions">
        <button onclick="clearBox()">Clear</button>
    </div>

    <div class="container">
        <div class="block">
            <h2>Text</h2>
            <div id="textBlock" class="content" onclick="copyBlock('textBlock')"></div>
            <button class="copy" onclick="copyBlock('textBlock')">Copy</button>
            <div class="tooltip" id="textTooltip">Copied!</div>
        </div>

        <div class="block">
            <h2>Correct</h2>
            <div id="correctBlock" class="content" onclick="copyBlock('correctBlock')"></div>
            <button class="copy" onclick="copyBlock('correctBlock')">Copy</button>
            <div class="tooltip" id="correctTooltip">Copied!</div>
        </div>

        <div class="block">
            <h2>Result</h2>
            <div id="resultBlock" class="content" onclick="copyBlock('resultBlock')"></div>
            <button class="copy" onclick="copyBlock('resultBlock')">Copy</button>
            <div class="tooltip" id="resultTooltip">Copied!</div>
        </div>
    </div>

    <div id="itemViewer" class="item-viewer">
        <button class="nav-btn" onclick="prevItem()">&#8592;</button>
        <div id="itemContentContainer" class="item-content-container">
            <pre id="itemContent" class="item-content"></pre>
        </div>
        <button class="nav-btn" onclick="nextItem()">&#8594;</button>
        <div id="itemNumbers" class="item-numbers"></div>
    </div>


    <script>
        function clearBox() {
            inputBox.value = "";
        }

        function copyBlock(id) {
            const text = document.getElementById(id).textContent;
            let copyText = `========== ${id.replace('Block', '').toUpperCase()} ==========\n` + text;
            navigator.clipboard.writeText(copyText).then(() => {
                // Show tooltip for the specific block
                const tooltipId = id.replace('Block', 'Tooltip');
                const tooltip = document.getElementById(tooltipId);
                
                // Show tooltip
                tooltip.classList.add('show');
                
                // Hide tooltip after 2 seconds
                setTimeout(() => {
                    tooltip.classList.remove('show');
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy text: ', err);
            });
        }
    </script>
    <script src="script.js"></script>
</body>
</html>